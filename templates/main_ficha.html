{% extends "base.html" %}

{% block style %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/ficha.css') }}">
{% endblock %}

{% block mainPropiedades %}
<!-- Página propiedad -->
<section class="container pt-5 pb-2">
  <div class="row">
    <div class="col-lg-1 d-none d-lg-block"></div>
    <!-- Columna ficha propiedad -->
    <div class="col-md-7 col-lg-5 mb-3">
      <div id="carouselFichaProp" class="carousel slide carousel-fade mb-3" data-bs-ride="carousel">
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="{{ url_for('static', filename='img/prop/')}}{{ propiedad.url_foto_1 }}" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="{{ url_for('static', filename='img/prop/')}}{{ propiedad.url_foto_2 }}" class="d-block w-100" alt="...">
          </div>
          <div class="carousel-item">
            <img src="{{ url_for('static', filename='img/prop/')}}{{ propiedad.url_foto_3 }}" class="d-block w-100" alt="...">
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselFichaProp" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselFichaProp" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
      <h4>** {{ propiedad.tipo_oper }} ** - {{ propiedad.descrip_corta }}, en {{ propiedad.direccion }}</h4>
    </div>
    <!-- Columna aside -->
    <aside class="col-md-5 col-lg-5 mb-3">
      <!-- Card precio -->
      <div class="card text-bg-warning mb-3">
        <div class="card-body d-flex flex-column align-items-center">
          <h4 class="card-title text-uppercase text-center fs-5">Precio</h4>
          <span class="card-text text-center fs-2 fw-bold">$USD {{ propiedad.precio }}</span>
        </div>
      </div>
      <!-- fin Card precio -->

      <!-- Card broker -->
      <div class="card mb-3">
        <div class="card-body">
          <div class="row">
            <div class="col-8">
              <p>Dirigirse por consultas a:</p>
              <h5 class="card-title">{{ propiedad.broker_nombre }}</h5>
              <a class="card-text d-block" href="mailto:{{ propiedad.broker_mail }}">{{ propiedad.broker_mail }}</a>
              <a class="card-text d-block" href="tel:{{ propiedad.broker_telefono }}">{{ propiedad.broker_telefono }}</a>
            </div>
            <div class="col-4">
              <img src="{{ url_for('static', filename='img/brokers/')}}{{ propiedad.broker_url_foto }}" class="card-img" alt="foto broker">
              <!-- <img src="static/img/brokers/{{ propiedad.broker_url_foto }}" class="card-img" alt="foto broker"> -->
            </div>
          </div>
        </div>
      </div>
      <!-- fin Card broker -->
    </aside>
    <div class="col-lg-1 d-none d-lg-block"></div>
  </div>
</section>

<section class="container">
  <div class="row">
    <div class="col-lg-1 d-none d-lg-block"></div>
    <div class="col">
      <hr class="mb-5">
      <div class="descrip-prop mb-5">
        <h4 class="mb-3">Descripción</h4>
        <p class="break-lines">{{ propiedad.descrip_larga }}</p>
      </div>
      <hr class="mb-5">
      <div class="row">
        <!-- Accordion -->
        <div class="col-md-8 mb-5">
          <div class="accordion accordion-flush" id="accordion-prop">
            <div class="accordion-item">
              <h2 class="accordion-header py-1">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
                  Datos básicos
                </button>
              </h2>
              <div id="flush-collapseOne" class="accordion-collapse collapse">
                <div class="accordion-body">
                  <div class="d-flex flex-column"></div>
                  <p class="break-lines">
                      {{ propiedad.basicos }}
                  </p>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header py-1">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwo" aria-expanded="false" aria-controls="flush-collapseTwo">
                  Servicios
                </button>
              </h2>
              <div id="flush-collapseTwo" class="accordion-collapse collapse">
                <div class="accordion-body">
                  <p class="break-lines">
                    {{ propiedad.servicios }}
                  </p>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header py-1">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseThree" aria-expanded="false" aria-controls="flush-collapseThree">
                  Amenities
                </button>
              </h2>
              <div id="flush-collapseThree" class="accordion-collapse collapse">
                <div class="accordion-body">
                  <p class="break-lines">
                    {{ propiedad.amenities }}
                  </p>
                </div>
              </div>
            </div>
            <div class="accordion-item">
              <h2 class="accordion-header py-1">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseFour" aria-expanded="false" aria-controls="flush-collapseThree">
                  Características de la propiedad
                </button>
              </h2>
              <div id="flush-collapseFour" class="accordion-collapse collapse">
                <div class="accordion-body">
                  <p class="break-lines">
                    Superficie total: {{ propiedad.superf_tot }} m²

                    Superficie cubierta: {{ propiedad.superf }} m²

                    Baños: {{ propiedad.baños }}

                    Dormitorios: {{ propiedad.dormitorios }}

                    Cochera/s: {{ propiedad.cocheras }}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Mapa -->
        <div class="col-md-4 mb-5">
          <div class="p-3 bg-danger-subtle rounded rounded-3">
            <h5 class="mb-2">Ubicación</h5>
            <iframe id="mapa-maps" class="border border-1 border-danger rounded rounded-3" src="{{ propiedad.url_maps }}" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-1 d-none d-lg-block"></div>
  </div>
</section>
<!-- fin Página propiedad -->
{% endblock %}
